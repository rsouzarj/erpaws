<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                template="/WEB-INF/template.xhtml">

    <ui:define name="head">
        <script type="text/javascript">
            function skinChart() {
                this.cfg.shadow = false;
                this.cfg.seriesColors = ['#71CC8D', '#33AFDE', '#F7941E'];
                this.cfg.grid = {
                    background: '#EDF3F6',
                    borderColor: '#D9E3E8',
                    gridLineColor: '#D9E3E8',
                    shadow: false
                };
                this.cfg.axesDefaults = {
                    rendererOptions: {
                        textColor: '#778D9B'
                    }
                };
                this.cfg.seriesDefaults = {
                    shadow: false,
                    markerOptions: {
                        shadow: false
                    }
                }
            }

            function skinPie() {
                this.cfg.seriesColors = ['#dae8ef', '#27aae1', '#33ccff', '#9fadb5'];
                this.cfg.grid = {
                    background: '#ffffff',
                    borderColor: '#eaeaea',
                    gridLineColor: '#e5ebf0',
                    shadow: false,
                    borderWidth: 0
                };
                this.cfg.seriesDefaults.shadow = false;
            }
            /*Botão topo*/
            $(document).ready(function () {
                $(window).scroll(function () {
                    if ($(this).scrollTop() > 100) {
                        $('a[href="#top"]').fadeIn();
                    } else {
                        $('a[href="#top"]').fadeOut();
                    }
                });

                $('a[href="#top"]').click(function () {
                    $('html, body').animate({scrollTop: 0}, 800);
                    return false;
                });
            });
        </script>
        <style type="text/css">
            .jqplot-target, .jqplot-axis {
                color: #778D9B;
            }
            /*Botão topo */
            a[href="#top"]{
                padding:10px;
                position:fixed;
                top: 90%;
                right:2px;
                display:none;
                font-size: 30px;
            }
            a[href="#top"]:hover{
                text-decoration:none;
            }
        </style>

        <f:metadata>
            <f:viewParam name="id" value="#{parceiroController.id}" />
            <f:viewAction  action="#{parceiroController.iniciar}" />
        </f:metadata>

    </ui:define>

    <ui:define name="content"  >

        <div class="layout-portlets-box" >
            <div class="Container100 ui-fluid">
                <div class="ContainerIndent"> 

                    <a href="#top"><p:commandButton icon="fa fa-arrow-up Fs18 white"/></a>

                    <p:messages id="messages5"  autoUpdate="true" closable="true" />

                    <h:form id="frmLista" >

                        <p:panelGrid columns="4"  layout="grid" styleClass="ui-panelgrid-blank" columnClasses="ui-grid-col-10,ui-grid-col-3,ui-grid-col-0,ui-grid-col-0" rendered="#{parceiroController.tela == 0}" >
                            <h2 style="color:black">Parceiro de Negócio</h2>

                            <p:inputText value="#{parceiroController.pesquisa}"/>
                            <p:commandButton value="Buscar" actionListener="#{parceiroController.listar()}" update="listaPesquisa" />
                            <p:commandButton value="Novo" actionListener="#{parceiroController.novo()}" update=":frmDetalhe :frmLista" rendered="#{loginController.usuario.acParNovo == 1}" />

                        </p:panelGrid>


                        <div class="Container100 Responsive100" >
                            <p:dataTable id="listaPesquisa" var="p" value="#{parceiroController.listaParceiro}" rendered="#{parceiroController.tela == 0}" reflow="true" style="" emptyMessage="Lista vazia" paginator="true" rows="15"  rowsPerPageTemplate="15,50,100">
                                <p:column headerText="Nome" sortBy="#{p.nome}">
                                    <p:commandLink value="#{p.nome}"  title="#{p.nome}"  actionListener="#{parceiroController.selecionar(p)}" ajax="false" update=":frmDetalhe :frmLista" />
                                </p:column>

                                <p:column headerText="Cidade" sortBy="#{p.cidade}">
                                    <p:commandLink value="#{p.cidade}"  title="#{p.cidade}"  actionListener="#{parceiroController.selecionar(p)}" ajax="false" update=":frmDetalhe :frmLista" />
                                </p:column>

                                <p:column headerText="UF" sortBy="#{p.uf}">
                                    <p:commandLink value="#{p.uf}"  title="#{p.uf}"  actionListener="#{parceiroController.selecionar(p)}" ajax="false" update=":frmDetalhe :frmLista" />
                                </p:column>

                                <p:column headerText="Situação" sortBy="#{p.situacao}" >
                                    <h:outputText value="#{p.situacao}" />
                                </p:column>

                                <p:column headerText="Detalhe" width="8%">
                                    <p:commandButton icon="fa fa-search Fs18 white"  actionListener="#{parceiroController.selecionar(p)}" ajax="false" update=":frmDetalhe :frmLista"/>
                                </p:column>
                            </p:dataTable>

                        </div>
                    </h:form>

                    <h:form id="frmDetalhe">
                        <p:panelGrid rendered="#{parceiroController.tela == 1}"  columns="5"  layout="grid" styleClass="ui-panelgrid-blank" columnClasses="ui-grid-col-10,ui-grid-col-3,ui-grid-col-0,ui-grid-col-0">
                            <h2 >#{parceiroController.parceiro.nome}</h2>


                            <p:commandButton value="Salvar" actionListener="#{parceiroController.salvar(1)}" update=":frmDetalhe :frmLista" rendered="#{loginController.usuario.acParNovo == 1}"/>
                            <p:commandButton value="Voltar" immediate="true" actionListener="#{parceiroController.mudarTela(0)}" update=":frmDetalhe :frmLista" />

                            <p:commandButton value="Deletar" styleClass="RedButton" actionListener="#{parceiroController.deletar()}"  update=":frmDetalhe :frmLista" rendered="#{loginController.usuario.acParNovo == 1}">
                                <p:confirm header="Confirmação" message="Deseja excluir o registro?" icon="ui-icon-alert" />
                            </p:commandButton>
                            <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
                                <p:commandButton value="Sim" type="button" styleClass="ui-confirmdialog-yes" />
                                <p:commandButton value="Não" type="button" styleClass="ui-confirmdialog-no" />
                            </p:confirmDialog>                                                              

                        </p:panelGrid>

                        <p:separator/>





                        <p:panelGrid rendered="#{parceiroController.tela == 1}" columns="1" layout="grid" styleClass="ui-panelgrid-blank" >


                            <p:panelGrid columns="4" layout="grid" styleClass="ui-panelgrid-blank" > 
                                <p:panelGrid columns="1" layout="grid" styleClass="ui-panelgrid-blank" > 
                                    <h:outputText value="Tipo de Parceiro" />
                                    <p:selectOneMenu value="#{parceiroController.parceiro.seqTipoParceiro}" filter="true" filterMatchMode="contains" required="true" requiredMessage="[TIPO DE PARCEIRO] é Obrigatório!">
                                        <f:selectItem itemLabel="Selecione o Tipo de Parceiro" itemValue="#{null}" />
                                        <f:selectItems value="#{parceiroController.listaTipoParceiro}" var="tp"  itemLabel="#{tp.nome}" itemValue="#{tp.seqTipoParceiro}"/>
                                    </p:selectOneMenu>
                                </p:panelGrid>


                                <p:panelGrid id="pnlTipoP" columns="1" layout="grid" styleClass="ui-panelgrid-blank" > 
                                    <h:outputText value="Tipo de Pessoa" />
                                    <p:selectOneMenu value="#{parceiroController.parceiro.tipo}" >
                                        <f:selectItem itemLabel="Pessoa Física" itemValue="Pessoa Física" />
                                        <f:selectItem itemLabel="Pessoa Jurídica" itemValue="Pessoa Jurídica" />
                                        <f:selectItem itemLabel="EX" itemValue="Exterior" />
                                        <p:ajax event="change" update="pnlTipoP pnlDoc pnlBuscarRF pnlNome "/>
                                    </p:selectOneMenu>
                                </p:panelGrid>

                                <p:panelGrid columns="1" layout="grid" styleClass="ui-panelgrid-blank" id="pnlDoc" > 
                                    <h:outputText value="CNPJ" rendered="#{parceiroController.parceiro.tipo == 'Pessoa Jurídica'}"/>
                                    <h:outputText value="CPF" rendered="#{parceiroController.parceiro.tipo == 'Pessoa Física'}"/>
                                    <h:outputText value="EX" rendered="#{parceiroController.parceiro.tipo == 'Exterior'}"/>
                                    <p:inputMask value="#{parceiroController.parceiro.documento}" mask="999.999.999-99" rendered="#{parceiroController.parceiro.tipo == 'Pessoa Física'}"/>
                                    <p:inputMask value="#{parceiroController.parceiro.documento}" mask="99.999.999/9999-99" rendered="#{parceiroController.parceiro.tipo == 'Pessoa Jurídica'}"/>
                                    <p:inputMask value="#{parceiroController.parceiro.documento}" mask="9" rendered="#{parceiroController.parceiro.tipo == 'Exterior'}"/>
                                </p:panelGrid>
                                <p:panelGrid columns="1" layout="grid" styleClass="ui-panelgrid-blank" id="pnlBuscarRF" > 
                                    <h:outputText value="." />
                                    <p:commandButton value="Buscar Dados da Empresa" actionListener="#{parceiroController.buscarDadosReceitaFederal()}" update=":frmDetalhe" rendered="#{parceiroController.parceiro.tipo == 'Pessoa Jurídica'}" />
                                </p:panelGrid>

                            </p:panelGrid>

                            <p:separator/>

                            <p:panelGrid id="pnlNome" columns="6" layout="grid" styleClass="ui-panelgrid-blank" columnClasses="ui-grid-col-2,ui-grid-col-5,ui-grid-col-4,ui-grid-col-2"> 
                                <p:panelGrid columns="1" layout="grid" styleClass="ui-panelgrid-blank" > 
                                    <h:outputText value="Código"  />                
                                    <p:inputText value="#{parceiroController.parceiro.codigo}" readonly="#{loginController.empresa.tipoNumeracaoCodParceiro != null}" />                
                                </p:panelGrid>

                                <p:panelGrid columns="1" layout="grid" styleClass="ui-panelgrid-blank" > 
                                    <h:outputText value="Razão Social" rendered="#{parceiroController.parceiro.tipo == 'Pessoa Jurídica'}"/>
                                    <h:outputText value="Nome" rendered="#{parceiroController.parceiro.tipo == 'Pessoa Física'}"/>
                                    <h:outputText value="Nome" rendered="#{parceiroController.parceiro.tipo == 'Exterior'}"/>
                                    <p:inputText value="#{parceiroController.parceiro.nome}" />
                                </p:panelGrid>

                                <p:panelGrid columns="1" layout="grid" styleClass="ui-panelgrid-blank" > 
                                    <h:outputText value="Nome Fantasia" rendered="#{parceiroController.parceiro.tipo == 'Pessoa Jurídica'}"/>
                                    <h:outputText value="Pseudonimo" rendered="#{parceiroController.parceiro.tipo == 'Pessoa Física'}"/>
                                    <p:inputText value="#{parceiroController.parceiro.fantasia}" />                                            
                                </p:panelGrid>

                                <p:panelGrid columns="1" layout="grid" styleClass="ui-panelgrid-blank" > 
                                    <h:outputText value="Dt. Abertura" rendered="#{parceiroController.parceiro.tipo == 'Pessoa Jurídica'}"/>
                                    <h:outputText value="Data de Nascimento" rendered="#{parceiroController.parceiro.tipo == 'Pessoa Física'}"/>
                                    <h:outputText value="Dt. Abertura" rendered="#{parceiroController.parceiro.tipo == 'Exterior'}"/>
                                    <p:inputMask mask="99/99/9999" value="#{parceiroController.parceiro.dataNascimento}" size="25">
                                        <f:convertDateTime locale="pt_BR" dateStyle="long" pattern="dd/MM/yyyy" timeZone="GMT-3"/>
                                    </p:inputMask>
                                </p:panelGrid>

                                <p:panelGrid columns="1" layout="grid" styleClass="ui-panelgrid-blank" > 
                                    <h:outputText value="Insc. Municipal" rendered="#{parceiroController.parceiro.tipo == 'Pessoa Jurídica'}"/>
                                    <h:outputText value="" rendered="#{parceiroController.parceiro.tipo == 'Pessoa Física'}"/>
                                    <p:inputText value="#{parceiroController.parceiro.im}" rendered="#{parceiroController.parceiro.tipo == 'Pessoa Jurídica'}"/>
                                </p:panelGrid>

                                <p:panelGrid columns="1" layout="grid" styleClass="ui-panelgrid-blank" > 
                                    <h:outputText value="Insc. Estadual" rendered="#{parceiroController.parceiro.tipo == 'Pessoa Jurídica'}"/>
                                    <h:outputText value="" rendered="#{parceiroController.parceiro.tipo == 'Pessoa Física'}"/>
                                    <p:inputText value="#{parceiroController.parceiro.ie}" rendered="#{parceiroController.parceiro.tipo == 'Pessoa Jurídica'}"/>
                                </p:panelGrid>
                            </p:panelGrid>


                            <p:panelGrid columns="5" layout="grid" styleClass="ui-panelgrid-blank"  id="pnlEnd_1" columnClasses="ui-grid-col-2,ui-grid-col-2, ui-grid-col-7,ui-grid-col-2,ui-grid-col-6"> 
                                <p:panelGrid columns="1" layout="grid" styleClass="ui-panelgrid-blank" > 
                                    <h:outputText value="CEP" />
                                    <p:inputMask value="#{parceiroController.parceiro.cep}" mask="99999-999" />
                                </p:panelGrid>

                                <p:panelGrid columns="1" layout="grid" styleClass="ui-panelgrid-blank"  > 
                                    <h:outputText value="." />
                                    <p:commandButton value="Buscar" actionListener="#{parceiroController.buscarCep(0)}" update=":frmDetalhe"/> 
                                </p:panelGrid>


                                <p:panelGrid columns="1" layout="grid" styleClass="ui-panelgrid-blank" > 
                                    <h:outputText value="Logradouro" />
                                    <p:inputText value="#{parceiroController.parceiro.logradouro}" />                
                                </p:panelGrid>       

                                <p:panelGrid columns="1" layout="grid" styleClass="ui-panelgrid-blank" > 
                                    <h:outputText value="Número" />
                                    <p:inputText value="#{parceiroController.parceiro.numero}" />                
                                </p:panelGrid> 

                                <p:panelGrid columns="1" layout="grid" styleClass="ui-panelgrid-blank" > 
                                    <h:outputText value="Complemento" />
                                    <p:inputText value="#{parceiroController.parceiro.complemento}" />                
                                </p:panelGrid>                            


                            </p:panelGrid>



                            <p:panelGrid columns="3" layout="grid" styleClass="ui-panelgrid-blank" id="pnlEnd_2" columnClasses="ui-grid-col-6,ui-grid-col-4,ui-grid-col-10">  

                                <p:panelGrid columns="1" layout="grid" styleClass="ui-panelgrid-blank" > 
                                    <h:outputText value="Bairro" />
                                    <p:inputText value="#{parceiroController.parceiro.bairro}" />                
                                </p:panelGrid>

                                <p:panelGrid columns="1" layout="grid" styleClass="ui-panelgrid-blank" > 
                                    <h:outputText value="Cidade" />
                                    <p:inputText value="#{parceiroController.parceiro.cidade}" />                
                                </p:panelGrid>

                                <p:panelGrid columns="1" layout="grid" styleClass="ui-panelgrid-blank" > 
                                    <h:outputText value="Estado" />
                                    <p:selectOneMenu value="#{parceiroController.parceiro.uf}" filter="true" filterMatchMode="contains">
                                        <f:selectItems itemLabel="Selecione a Unidade federativa" itemValue="#{null}" />
                                        <f:selectItems value="#{parceiroController.listaUf}" var="uf"  itemLabel="#{uf.nome}" itemValue="#{uf.id}" />
                                    </p:selectOneMenu>
                                </p:panelGrid>

                            </p:panelGrid>


                            <p:panelGrid columns="4" layout="grid" styleClass="ui-panelgrid-blank" columnClasses="ui-grid-col-4,ui-grid-col-4,ui-grid-col-4,ui-grid-col-4"> 
                                <p:panelGrid columns="1" layout="grid" styleClass="ui-panelgrid-blank" > 
                                    <h:outputText value="Telefone" />
                                    <p:inputMask value="#{parceiroController.parceiro.telefone1}" mask="(99) 9999-9999?9"/>
                                </p:panelGrid>

                                <p:panelGrid columns="1" layout="grid" styleClass="ui-panelgrid-blank" > 
                                    <h:outputText value="Telefone" />
                                    <p:inputMask value="#{parceiroController.parceiro.telefone2}" mask="(99) 9999-9999?9"/>
                                </p:panelGrid>

                                <p:panelGrid columns="1" layout="grid" styleClass="ui-panelgrid-blank" > 
                                    <h:outputText value="Telefone" />
                                    <p:inputMask value="#{parceiroController.parceiro.telefone3}" mask="(99) 9999-9999?9"/>
                                </p:panelGrid>

                                <p:panelGrid columns="1" layout="grid" styleClass="ui-panelgrid-blank" > 
                                    <h:outputText value="Telefone (Móvel)" />
                                    <p:inputMask value="#{parceiroController.parceiro.telefone4}" mask="(99) 9999-9999?9"/>
                                </p:panelGrid>
                            </p:panelGrid>

                            <p:panelGrid columns="2" layout="grid" styleClass="ui-panelgrid-blank" columnClasses="ui-grid-col-8,ui-grid-col-8"> 
                                <p:panelGrid columns="1" layout="grid" styleClass="ui-panelgrid-blank" > 
                                    <h:outputText value="Email" />
                                    <p:inputText value="#{parceiroController.parceiro.email}" />                
                                </p:panelGrid>

                                <p:panelGrid columns="1" layout="grid" styleClass="ui-panelgrid-blank" > 
                                    <h:outputText value="Pessoa de Contato" />
                                    <p:inputText value="#{parceiroController.parceiro.pessoaContato}" />                
                                </p:panelGrid>
                            </p:panelGrid>



                            <p:panelGrid columns="1" layout="grid" styleClass="ui-panelgrid-blank" > 
                                <h:outputText value="Situação" />
                                <p:selectOneMenu value="#{parceiroController.parceiro.situacao}" >
                                    <f:selectItem itemLabel="Ativo" itemValue="ATIVO" />
                                    <f:selectItem itemLabel="Inativo" itemValue="INATIVO" />
                                </p:selectOneMenu>
                            </p:panelGrid>

                            <p:panelGrid columns="1" layout="grid" styleClass="ui-panelgrid-blank" > 
                                <h:outputText value="Tabela de Preço" />
                                <p:selectOneMenu value="#{parceiroController.parceiro.seqTabelaPreco}" filter="true" filterMatchMode="contains" >
                                    <f:selectItem itemLabel="Selecione a tabela de Preço" itemValue="#{null}" />
                                    <f:selectItems value="#{parceiroController.listaTabelaPreco}" var="tp"  itemLabel="#{tp.nome}" itemValue="#{tp.seqTabelaPreco}" />
                                </p:selectOneMenu>
                            </p:panelGrid>



                            <p:accordionPanel id="acdVinculo" activeIndex="null" rendered="#{parceiroController.parceiro.seqParceiro > 0}">

                                <p:tab title="Endereço" id="tbEndereco">
                                    <p:messages  autoUpdate="true" closable="true" />

                                    <p:dataTable id="listaEndereco" var="ende" value="#{parceiroController.listaParceiroEndereco}" emptyMessage="Lista vazia" reflow="true" style="">
                                        <p:column headerText="Tipo" sortBy="#{ende.tipoEndereco}">
                                            <p:commandLink value="#{ende.tipoEndereco}"  title="#{ende.tipoEndereco}"   actionListener="#{parceiroController.selecionarEndereco(ende)}" ajax="false" update=":frmDetalhe" />
                                        </p:column>

                                        <p:column headerText="Endereço" sortBy="#{ende.logradouro}">
                                            <p:outputLabel value="#{ende.logradouro}, #{ende.numero}, #{ende.complemento} - #{ende.bairro} - #{ende.cidade} - #{ende.uf}"  />
                                        </p:column>

                                        <p:column headerText="Pessoa de Contato" sortBy="#{ende.pessoaContato}">
                                            <p:outputLabel value="#{ende.pessoaContato}"  />
                                        </p:column>

                                        <p:column headerText="Data de Cadastro" sortBy="#{ende.dataCadastro}">
                                            <p:outputLabel value="#{ende.dataCadastro}"  title="#{ende.dataCadastro}"  >
                                                <f:convertDateTime type="date" pattern="dd/MM/yyyy" dateStyle="medium" locale="pt_BR" timeZone="GMT-3"/>
                                            </p:outputLabel>
                                        </p:column>

                                        <p:column headerText="Detalhe" width="8%">
                                            <p:commandButton icon="fa fa-search Fs18 white" actionListener="#{parceiroController.selecionarEndereco(ende)}" ajax="false" update=":frmDetalhe" />
                                        </p:column>
                                    </p:dataTable>                                        

                                    <p:separator/>


                                    <p:panelGrid columns="1" layout="grid" styleClass="ui-panelgrid-blank" > 
                                        <p:panelGrid id="pnlEnd0" columns="1" layout="grid" styleClass="ui-panelgrid-blank" > 
                                            <h:outputText value="Tipo de Endereço" />
                                            <p:selectOneMenu value="#{parceiroController.parceiroEndereco.seqTipoEndereco}" required="false" requiredMessage="[TIPO DE ENDEREÇO] Obrigatório" filter="true" filterMatchMode="contains">
                                                <f:selectItem itemLabel="Selecione o Tipo de Endereço" itemValue="#{null}"/>
                                                <f:selectItems value="#{parceiroController.listaTipoEndereco}"  var="lstEndereco" itemLabel="#{lstEndereco.nome}" itemValue="#{lstEndereco.seqTipoEndereco}" />
                                            </p:selectOneMenu>
                                        </p:panelGrid>

                                        <p:panelGrid id="pnlEnd1" columns="5" layout="grid" styleClass="ui-panelgrid-blank"  columnClasses="ui-grid-col-2,ui-grid-col-2, ui-grid-col-7,ui-grid-col-2,ui-grid-col-6" > 
                                            <p:panelGrid columns="1" layout="grid" styleClass="ui-panelgrid-blank" > 
                                                <h:outputText value="CEP" />
                                                <p:inputMask value="#{parceiroController.parceiroEndereco.cep}" mask="99999-999" />
                                            </p:panelGrid>

                                            <p:panelGrid columns="1" layout="grid" styleClass="ui-panelgrid-blank"  > 
                                                <h:outputText value="." />
                                                <p:commandButton value="Buscar" actionListener="#{parceiroController.buscarCep(1)}"  update="pnlEnd1 pnlEnd2"/> 
                                            </p:panelGrid>


                                            <p:panelGrid columns="1" layout="grid" styleClass="ui-panelgrid-blank" > 
                                                <h:outputText value="Logradouro" />
                                                <p:inputText value="#{parceiroController.parceiroEndereco.logradouro}" />                
                                            </p:panelGrid>       

                                            <p:panelGrid columns="1" layout="grid" styleClass="ui-panelgrid-blank" > 
                                                <h:outputText value="Número" />
                                                <p:inputText value="#{parceiroController.parceiroEndereco.numero}" />                
                                            </p:panelGrid> 

                                            <p:panelGrid columns="1" layout="grid" styleClass="ui-panelgrid-blank" > 
                                                <h:outputText value="Complemento" />
                                                <p:inputText value="#{parceiroController.parceiroEndereco.complemento}" />                
                                            </p:panelGrid>                            
                                        </p:panelGrid>



                                        <p:panelGrid id="pnlEnd2" columns="3" layout="grid" styleClass="ui-panelgrid-blank" columnClasses="ui-grid-col-6,ui-grid-col-4,ui-grid-col-10" >  

                                            <p:panelGrid columns="1" layout="grid" styleClass="ui-panelgrid-blank" > 
                                                <h:outputText value="Bairro" />
                                                <p:inputText value="#{parceiroController.parceiroEndereco.bairro}" />                
                                            </p:panelGrid>

                                            <p:panelGrid columns="1" layout="grid" styleClass="ui-panelgrid-blank" > 
                                                <h:outputText value="Cidade" />
                                                <p:inputText value="#{parceiroController.parceiroEndereco.cidade}" />                
                                            </p:panelGrid>

                                            <p:panelGrid columns="1" layout="grid" styleClass="ui-panelgrid-blank" > 
                                                <h:outputText value="Estado" />
                                                <p:selectOneMenu value="#{parceiroController.parceiroEndereco.uf}" filter="true" filterMatchMode="contains">
                                                    <f:selectItems itemLabel="Selecione a Unidade federativa" itemValue="#{null}" />
                                                    <f:selectItems value="#{parceiroController.listaUf}" var="uf"  itemLabel="#{uf.nome}" itemValue="#{uf.id}" />
                                                </p:selectOneMenu>
                                            </p:panelGrid>
                                        </p:panelGrid>


                                        <p:panelGrid id="pnlEnd4" columns="3" layout="grid" styleClass="ui-panelgrid-blank" columnClasses="ui-grid-col-6,ui-grid-col-4,ui-grid-col-10" >  
                                            <p:panelGrid columns="1" layout="grid" styleClass="ui-panelgrid-blank" > 
                                                <h:outputText value="Pessoa de Contato" />
                                                <p:inputText value="#{parceiroController.parceiroEndereco.pessoaContato}" />                
                                            </p:panelGrid>

                                            <p:panelGrid columns="1" layout="grid" styleClass="ui-panelgrid-blank" > 
                                                <h:outputText value="Telefone" />
                                                <p:inputMask value="#{parceiroController.parceiroEndereco.telefone1}" mask="(99) 9999-9999?9"/>
                                            </p:panelGrid>

                                            <p:panelGrid columns="1" layout="grid" styleClass="ui-panelgrid-blank" > 
                                                <h:outputText value="Email" />
                                                <p:inputText value="#{parceiroController.parceiroEndereco.email}" />                
                                            </p:panelGrid>

                                        </p:panelGrid>

                                        <p:panelGrid columns="1" layout="grid" styleClass="ui-panelgrid-blank" > 
                                            <h:outputText value="Informações adicionais" />
                                            <p:inputText value="#{parceiroController.parceiroEndereco.email}" />                
                                        </p:panelGrid>

                                        <p:panelGrid  columns="3" layout="grid" styleClass="ui-panelgrid-blank" > 
                                            <p:commandButton  value="Salvar" disabled="#{loginController.usuario.acParNovo != 1}" actionListener="#{parceiroController.salvarEndereco()}" update=":frmDetalhe"/>
                                            <p:commandButton value="Novo" disabled="#{loginController.usuario.acParNovo != 1}" actionListener="#{parceiroController.novoEndereco()}" update=":frmDetalhe"/>
                                            <p:commandButton icon="fa fa-eraser Fs18 white"   actionListener="#{parceiroController.deletarEndereco()}" immediate="true" update=":frmDetalhe" styleClass="RedButton" rendered="#{parceiroController.parceiroEndereco.seqParceiroEndereco != null}">
                                                <p:confirm header="Confirmação" message="Deseja excluir o Endereço?" icon="ui-icon-alert" />
                                            </p:commandButton>

                                            <p:panelGrid rendered="#{parceiroController.parceiroEndereco.seqParceiroEndereco == null}"/>

                                        </p:panelGrid>
                                    </p:panelGrid>

                                </p:tab>


                                <p:tab title="Contatos" id="tbContato">
                                    <p:messages  autoUpdate="true" closable="true" />

                                    <p:dataTable id="listaContato" var="c" value="#{parceiroController.listaParceiroContato}" emptyMessage="Lista vazia" reflow="true" style="">
                                        <p:column headerText="Nome" sortBy="#{c.nome}">
                                            <p:commandLink value="#{c.nome}"  title="#{c.nome}"   actionListener="#{parceiroController.selecionarContato(c)}" ajax="false" update=":frmDetalhe" />
                                        </p:column>

                                        <p:column headerText="Telefone" sortBy="#{c.telefone}">
                                            <p:outputLabel value="#{c.telefone}"  />
                                        </p:column>

                                        <p:column headerText="Telefone 2" sortBy="#{c.telefone2}">
                                            <p:outputLabel value="#{c.telefone2}"  />
                                        </p:column>

                                        <p:column headerText="Email" sortBy="#{c.email}">
                                            <p:outputLabel value="#{c.email}"  />
                                        </p:column>

                                        <p:column headerText="Data de Cadastro" sortBy="#{c.dataCadastro}">
                                            <p:outputLabel value="#{c.dataCadastro}"  title="#{c.dataCadastro}"  >
                                                <f:convertDateTime type="date" pattern="dd/MM/yyyy" dateStyle="medium" locale="pt_BR" timeZone="GMT-3"/>
                                            </p:outputLabel>
                                        </p:column>

                                        <p:column headerText="Detalhe" width="8%">
                                            <p:commandButton icon="fa fa-search Fs18 white"  disabled="#{loginController.usuario.acParNovo != 1}"  actionListener="#{parceiroController.selecionarContato(c)}" ajax="false" update=":frmDetalhe" />
                                        </p:column>
                                    </p:dataTable>                                        

                                    <p:separator/>

                                    <p:panelGrid columns="1" layout="grid" styleClass="ui-panelgrid-blank"  > 
                                        <p:panelGrid columns="4" layout="grid" styleClass="ui-panelgrid-blank"  columnClasses="ui-grid-col-3,ui-grid-col-2,ui-grid-col-2, ui-grid-col-7" > 
                                            <p:panelGrid columns="1" layout="grid" styleClass="ui-panelgrid-blank" > 
                                                <h:outputText value="Nome" />
                                                <p:inputText value="#{parceiroController.parceiroContato.nome}" />                
                                            </p:panelGrid>       

                                            <p:panelGrid columns="1" layout="grid" styleClass="ui-panelgrid-blank" > 
                                                <h:outputText value="Telefone" />
                                                <p:inputMask value="#{parceiroController.parceiroContato.telefone}"   mask="(99) 9999-9999?9" />                
                                            </p:panelGrid> 

                                            <p:panelGrid columns="1" layout="grid" styleClass="ui-panelgrid-blank" > 
                                                <h:outputText value="Telefone 2" />
                                                <p:inputMask value="#{parceiroController.parceiroContato.telefone2}"   mask="(99) 9999-9999?9" />                
                                            </p:panelGrid> 

                                            <p:panelGrid columns="1" layout="grid" styleClass="ui-panelgrid-blank" > 
                                                <h:outputText value="Email" />
                                                <p:inputText value="#{parceiroController.parceiroContato.email}" />
                                            </p:panelGrid>                            

                                        </p:panelGrid>

                                        <p:panelGrid columns="2" layout="grid" styleClass="ui-panelgrid-blank" > 
                                            <p:panelGrid columns="1" layout="grid" styleClass="ui-panelgrid-blank" > 
                                                <h:outputText value="Informações Adicionais" />
                                                <p:inputText value="#{parceiroController.parceiroContato.info}" />
                                            </p:panelGrid>

                                            <p:panelGrid columns="1" layout="grid" styleClass="ui-panelgrid-blank" > 
                                                <h:outputText value="Situação" />
                                                <p:selectOneMenu value="#{parceiroController.parceiroContato.situacao}" >
                                                    <f:selectItem itemLabel="Ativo" itemValue="ATIVO" />
                                                    <f:selectItem itemLabel="Inativo" itemValue="INATIVO" />
                                                </p:selectOneMenu>
                                            </p:panelGrid>

                                        </p:panelGrid>                            

                                        <p:panelGrid  columns="2" layout="grid" styleClass="ui-panelgrid-blank" > 
                                            <p:commandButton  value="Salvar" actionListener="#{parceiroController.salvarContato()}" update=":frmDetalhe" disabled="#{loginController.usuario.acParNovo != 1}"/>
                                            <!--p:commandButton value="Novo" actionListener="#{parceiroController.novoContato()}" update=":frmDetalhe"/-->
                                            <p:commandButton disabled="#{loginController.usuario.acParNovo != 1}" icon="fa fa-eraser Fs18 white"   actionListener="#{parceiroController.deletarContato()}" immediate="true" update=":frmDetalhe" styleClass="RedButton" rendered="#{parceiroController.parceiroContato.seqParceiroContato != null}">
                                                <p:confirm header="Confirmação" message="Deseja excluir o Contato?" icon="ui-icon-alert" />
                                            </p:commandButton>

                                            <p:panelGrid rendered="#{parceiroController.parceiroContato.seqParceiroContato == null}"/>

                                        </p:panelGrid>
                                    </p:panelGrid>

                                </p:tab>                                

                                <p:tab title="Caracteristicas">
                                    <p:selectManyCheckbox id="grid2" layout="responsive" value="#{parceiroController.caracteristicasSelecionada}" columns="1">
                                        <f:selectItems value="#{parceiroController.listaTipoCaracteristica}" var="c" itemLabel="#{c.nome}" itemValue="#{c.seqTipoCaracteristica}" />
                                    </p:selectManyCheckbox>

                                </p:tab>

                                <p:tab title="Parceiros Vinculados">
                                    <p:messages  autoUpdate="true" closable="true" />

                                    <p:dataTable id="listaVinculo" var="v" value="#{parceiroController.listaParceiroVinculo}" emptyMessage="Lista vazia" reflow="true" style="">
                                        <p:column headerText="Tipo de Vínculo" sortBy="#{v.tipoVinculoNome}">
                                            <p:outputLabel value="#{v.tipoVinculoNome}"  title="#{v.tipoVinculoNome}"  />
                                        </p:column>

                                        <p:column headerText="Parceiro Vinculado" sortBy="#{v.vinculadoNome}">
                                            <p:outputLabel value="#{v.vinculadoNome}"  title="#{v.vinculadoNome}"  />
                                        </p:column>

                                        <p:column headerText="Remover" width="8%" >
                                            <p:commandButton icon="fa fa-eraser Fs18 white" disabled="#{loginController.usuario.acParNovo != 1}"  actionListener="#{parceiroController.removerVinculo(v)}" immediate="true" update="listaVinculo" >
                                                <p:confirm header="Confirmação" message="Deseja excluir o Vínculo?" icon="ui-icon-alert" />
                                            </p:commandButton>

                                        </p:column>
                                    </p:dataTable>                                        

                                    <p:separator/>

                                    <p:panelGrid columns="1" layout="grid" styleClass="ui-panelgrid-blank" > 
                                        <p:panelGrid id="pnlVinculo"  columns="3" layout="grid" styleClass="ui-panelgrid-blank" columnClasses="ui-grid-col-8,ui-grid-col-4,ui-grid-col-2"> 
                                            <p:panelGrid columns="1" layout="grid" styleClass="ui-panelgrid-blank" > 
                                                <p:outputLabel value="Tipo de Vínculo"/>
                                                <p:selectOneMenu value="#{parceiroController.parceiroVinculo.seqTipoVinculo}" required="false" requiredMessage="[TIPO DE VÍNCULO] Obrigatório" filter="true" filterMatchMode="contains">
                                                    <f:selectItems value="#{parceiroController.listaTipoVinculo}" var="tv" itemLabel="#{tv.nome}" itemValue="#{tv.seqTipoVinculo}" />
                                                </p:selectOneMenu>
                                            </p:panelGrid>

                                            <p:panelGrid columns="1" layout="grid" styleClass="ui-panelgrid-blank" > 
                                                <p:outputLabel value="Parceiro Vinculado" />
                                                <p:selectOneMenu value="#{parceiroController.seqParceiroVinculado}" filter="true" filterMatchMode="contains">
                                                    <f:selectItem itemLabel="Selecione o Parceiro Vinculado" itemValue="#{null}" />
                                                    <f:selectItems value="#{parceiroController.listaParceiroVinculado}" var="par" itemLabel="#{par.nome}" itemValue="#{par.seqParceiro}" />
                                                </p:selectOneMenu>
                                                <!--p:autoComplete maxResults="5"  value="#{parceiroController.parceiroV}" completeMethod="#{parceiroController.listarParceiroAutoComplete}" var="prc" itemLabel="#{prc.nome}" itemValue="#{prc}"  
                                                                converter="parceiroConverter"  id="dd" dropdown="false"  minQueryLength="3">
                                                    <p:ajax event="itemSelect" listener="#{parceiroController.parceiroSelecionada()}" process="@form" update="pnlVinculo" /> 
                                                </p:autoComplete-->
                                            </p:panelGrid>

                                            <p:panelGrid  columns="1" layout="grid" styleClass="ui-panelgrid-blank" > 
                                                <br/>
                                                <p:commandButton value="Adicionar" disabled="#{loginController.usuario.acParNovo != 1}" actionListener="#{parceiroController.adicionarVinculo()}" update="pnlVinculo listaVinculo" />
                                            </p:panelGrid>

                                        </p:panelGrid>
                                    </p:panelGrid>

                                </p:tab>


                                <p:tab title="Anotações">
                                    <p:messages autoUpdate="true" closable="true" />
                                    <p:dataTable id="listaAnotacao" var="a" value="#{parceiroController.listaAnotacao}" emptyMessage="Lista vazia" reflow="true" style="">
                                        <p:column headerText="Descrição" sortBy="#{a.descricao}">
                                            <p:commandLink value="#{a.descricao}"  title="#{a.descricao}"  actionListener="#{parceiroController.selecionarAnotacao(a)}"  update=":frmDetalhe" />
                                        </p:column>

                                        <p:column headerText="Data" sortBy="#{a.dataCadastro}">
                                            <p:outputLabel value="#{a.dataCadastro}"  title="#{a.dataCadastro}"  >
                                                <f:convertDateTime type="date" pattern="dd/MM/yyyy" dateStyle="medium" locale="pt_BR" timeZone="GMT-3"/>
                                            </p:outputLabel>

                                        </p:column>

                                        <p:column headerText="Remover" width="8%" >
                                            <p:commandButton icon="fa fa-eraser Fs18 white"  disabled="#{loginController.usuario.acParNovo != 1}" actionListener="#{parceiroController.removerAnotacao(a)}" immediate="true" update="listaAnotacao" >
                                                <p:confirm header="Confirmação" message="Deseja excluir o Vínculo?" icon="ui-icon-alert" />
                                            </p:commandButton>

                                        </p:column>
                                    </p:dataTable>   

                                    <p:separator/>

                                    <p:panelGrid id="pnlAnotacao"  columns="1" layout="grid" styleClass="ui-panelgrid-blank" > 
                                        <!--p:panelGrid columns="1" layout="grid" styleClass="ui-panelgrid-blank" rendered="#{loginController.usuario.acParTodos == 1}"> 
                                            <p:outputLabel value="Tipo de Anotação"/>
                                            <p:selectOneMenu value="#{parceiroController.anotacao.seqTipoAnotacao}" required="false" requiredMessage="[TIPO DE ANOTAÇÃO] Obrigatório" filter="true" filterMatchMode="contains">
                                                <f:selectItems value="#{parceiroController.listaTipoAnotacao}" var="an" itemLabel="#{an.nome}" itemValue="#{an.seqTipoAnotacao}" />
                                            </p:selectOneMenu>
                                        </p:panelGrid-->

                                        <p:panelGrid  columns="1" layout="grid" styleClass="ui-panelgrid-blank" > 
                                            <p:outputLabel value="Descrição"/>
                                            <p:editor controls="" value="#{parceiroController.anotacao.descricao}"/>
                                        </p:panelGrid>

                                        <p:panelGrid  columns="2" layout="grid" styleClass="ui-panelgrid-blank" > 
                                            <p:commandButton value="Novo" disabled="#{loginController.usuario.acParNovo != 1}" actionListener="#{parceiroController.novaAnotacao()}" update="pnlAnotacao listaAnotacao" />
                                            <p:commandButton value="Salvar" disabled="#{loginController.usuario.acParNovo != 1}" actionListener="#{parceiroController.adicionarAnotacao()}" update="pnlAnotacao listaAnotacao" />
                                        </p:panelGrid>

                                    </p:panelGrid>

                                </p:tab>

                            </p:accordionPanel>                            

                        </p:panelGrid>

                    </h:form>
                </div>
            </div>
        </div>
    </ui:define>

</ui:composition>